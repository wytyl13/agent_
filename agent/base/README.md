### 开发日志
```
1、基础agent工具类定义
2、agent工具类实际定义
3、工具节点的定义
4、工作流的定义：下面是我的一个简化思路，后续根据其凝练出后续开发设计思路
    我现在有一个系统设计

    我的智能体现在要实现一个简单的流程

    用户的输入：汇报一下我昨天的睡眠报告

    agent: 首先根据所有的工具选择睡眠报告工具-》然后执行 -》 然后agent根据执行结果去回复用户

    这个简单的流程实现起来很容器，我使用了如下的提示词模板并配以工具调用规则就可以做到
    Today is {today} {weekday}. 位置：山西运城， Please Answer the following questions as best you can. You have access to the following tools:
        {tool_description}
        系统调用逻辑：
        1. 优先级规则：当用户问题涉及个人健康数据（包括但不限于睡眠、心率、呼吸、体动等指标）时，必须优先调用HealthReport，即使问题表述简短或模糊。
        2. 当问题明确寻求最新外部信息且与舜熙科技及个人健康数据无关时，调用GoogleSearch。
        3. 其他所有情况（包括舜熙科技信息、产品功能、系统身份等）使用DirectLLM作为兜底工具。

        工具使用指导：
        1. 效率原则：每个问题尽量只调用一次工具。一旦获得足够回答用户问题的信息，立即提供Final Answer，不要进行重复或冗余的工具调用，除非第一次调用工具失败。
        2. 信息完整性评估：收到工具返回的Observation后，立即评估信息是否完整、准确且直接回答了用户问题。如信息完整，直接提供Final Answer；只有在信息明显不足时才考虑再次调用工具。
        3. 避免重复调用：不要使用相同的参数重复调用同一工具。如需更多信息，应调整参数或尝试其他工具。

        These are chat history before:
        {chat_history}

        These are Context:
        {context}

        参数规范：
        1. DirectLLM工具：使用参数 {{"question": "用户完整问题"}}
        2. GoogleSearch工具：使用参数 {{"google_query": "搜索关键词"}}
        3. HealthReport工具：使用参数 {{"health_report_question": "健康相关完整问题"}}
        4. 必须严格按照以上参数名称和格式构造参数，不得使用其他参数名称或格式。
        5. 参数值应包含用户的完整问题，若涉及时间段，直接包含在问题中，而非作为单独参数。

        格式要求：
        1. 严格遵循下方格式模板进行输出，保持格式的一致性与简洁性。
        2. Action行只能包含工具名称，不要添加任何解释、注释或额外信息。
        3. 每个部分必须严格按照指定格式填写，避免不必要的冗余信息。
        4. 一旦从工具获得足够信息，立即提供Final Answer，不要进行重复调用。

        Use the following format:
        - Question: 用户的问题
        - Thought: 详细分析当前问题以及历史对话上下文，判断问题是否与舜熙科技或其产品相关。考虑对话历史中提到的实体和信息，进行完整的问题理解。
        - Action: 选择的工具名称 [{tool_names}]
        - Action Input: {{"参数名": "参数值"}} - 完整的JSON格式
        - Observation: 工具返回的结果
        ... (this Thought/Action/Action Input/Observation can be repeated zero or more times)
        - Thought: 基于返回结果进行分析
        - Final Answer: 最终答案，应直接回答用户问题

        Question: {query}
        {agent_scratchpad}

    但是现在有个问题，这个也是一个react模板实现不了的
    比如：我现在有两个工具，这两个工具属于上下游产业链，比如A工具是睡眠报告分析，B工具是睡眠建议，当然，睡眠建议是根据睡眠报告结果去进行分析的，因此，react模板如何实现这样的问题：
    一个稍微复杂的问题：
    用户输入：汇报一下昨天的睡眠情况，并给出针对性建议
    agent -》 首先根据用户问题拆分出工具调用规则：A工具 -> B工具，然后顺序执行，B的输入是A的输出，最终结合A的输出和B的输出回答用户问题

    一个相对复杂的问题：
    用户输入：汇报一下昨天的睡眠情况
    agent -》首先根据用户问题拆分出工具调用规则：A工具，A工具中定义了主动询问策略，因为用户没有要求睡眠建议，因此A工具会回答结束自己的问题后主动询问，请问是否需要建议？  然后根据用户回复去判断是否调用B工具，如果用户回复需要，则直接将A的结果输入给B，然后输出最终的建议内容（这里仅仅是B的内容，不包含A的内容），如果用户回复不需要，则直接不进行任何工具调用。这里的细节在于，如何通过一个入口去根据用户的历史回答数据和当前的回答需要，去判断直接将上一步回答的结果去作为输入给B工具，而不是先调用A再调用B，这个逻辑，你明白我的意思吗？？这里是否可以使用工作域来解决，比如刚开始的时候，用户在一个相对大的工作域中，此时我们会默认先A-B，但是在这个相对复杂的问题中，用户的工作域相对较小，否则它还会调用A-B，而不是直接将A的结果作为输入给到B
```